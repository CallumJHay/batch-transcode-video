#!/usr/bin/env node

process.title = 'batch-transcode-video';

'use strict';

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _minimist = require('minimist');

var _minimist2 = _interopRequireDefault(_minimist);

var _distIndexCliJs = require('../dist/index-cli.js');

var _distIndexCliJs2 = _interopRequireDefault(_distIndexCliJs);

var _distLibDefaultOptionsJs = require('../dist/lib/default-options.js');

var _distLibDefaultOptionsJs2 = _interopRequireDefault(_distLibDefaultOptionsJs);

var UNKNOWN_MESSAGE = 'If you would like to supply custom options to\n transcode-video then put them at end of the command\n after a double dash "--". For example to pass the\n "--dry-run" command to transcode-video:'.replace(/\n+/g, '');
var defs = {
  '--': true,
  alias: {
    input: 'i',
    output: 'o',
    mask: 'm',
    help: 'h'
  },
  boolean: ['debug', 'quiet', 'flatten', 'diff', 'help', 'force'],
  string: ['input', 'output', 'mask'],
  'default': _distLibDefaultOptionsJs2['default'],
  unknown: function unknown(arg) {
    console.log('ERROR:\tUnrecognized argument ' + arg + ' provided.');
    console.log(UNKNOWN_MESSAGE);
    console.log('\nbatch-transcode-video --input my_videos/ -- --dry-run');
    process.exit(1);
  }
};

var options = (0, _minimist2['default'])(process.argv.slice(2), defs);

var transcodeOptions = [];
if (options['--'].length) {
  transcodeOptions = options['--'].slice(0);
  delete options['--'];
}

new _distIndexCliJs2['default'](options, transcodeOptions).cli();
